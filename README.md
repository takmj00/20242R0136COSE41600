# HW1: LiDAR-based 3D Object Detection
KOREA UNIVERSITY, COMPUTER SCIENCE AND ENGINEERING   
242R [서울-학부]인공지능과자율주행자동차(영강)(SELF-DRIVING CARS(English))-COSE416 (2024 Fall)


This project is about LiDAR-based 3D pedestrian detection using ML. The dataset is a serial of pcd files without label. 


이 프로젝트는 LiDAR-based로 보행자를 detection하는 프로젝트입니다. 주어진 데이터는 라벨이 없습니다. label이 있는 데이터를 수집하여 supervised learning을 해도 괜찮겠지만 제 작업 환경은 GPU가 없기 때문에 딥러닝은 사용하지 않기로 결정했습니다. 

상황
- LiDAR sensor는 위치가 고정되어 있습니다. 
- 사람은 거의 항상 움직입니다. 
- 각 pcd파일에 사람은 최소 1명, 최대 3명 존재합니다. 
- 사람은 서서 직진, 오리걸음으로 직진, 나무 사이를 지그재그합니다. 
- 낮은 곳에 위치하여 머리만 보인 채로 움직이는 경우도 하나 있습니다. 

메소드
- 저는 사람의 형체가 온전히 보일 때만 detection해야 한다고 가정했습니다. 
1. 배경 삭제: 움직이지 않는 포인트들을 삭제합니다.
2. 클러스터링: DBSCAN으로 클러스터링을 합니다.
3. 매칭: 이전 프레임과 현 프레임의 클러스터를 매칭합니다. 
4. filtering: 사람 클러스터만 남깁니다. 

1. 배경 삭제
pcd파일에서 포인트들은 순서를 가지고 있습니다. 어떠한 물체도 움직이지 않는다면 항상 동일한 인덱스의 포인트는 동일한 값을 가집니다. 이 특징을 이용해서 현 프레임을 초반의 pcd파일들과 비교해서 포인트가 일정 이상 움직인 것들만 거릅니다. 각 프레임마다 노이즈가 다르게 더해지기 때문에 한 pcd파일과의 비교로는 부족합니다. 비교하는 파일의 수를 늘린다면 배경을 다 많이 지울 수 있습니다. 하지만 그 수만큼 초반 프레임에 배경삭제 메소드를 적용할 수 없고, 연산량도 많아집니다. 이 파라미터를 더 잘 조정할 필요가 있습니다.  

2. 매칭
현 프레임의 클러스터를 이전 프레임의 클러스터와 매칭합니다. 현 프레임의 클러스터에서 가장 가까운 이전 프레임의 것을 찾아 매칭하는 방법을 사용합니다. 이전 프레임의 것은 중복되어 선택될 수 있습니다. 군집이 다음 프레임에서 나뉘어지는 경우를 대비하기 위함입니다. 사람 클러스터는 방향을 가지고 전진하는 특성이 있고, 나머지 클러스터는 한 자리를 맴도는 특성이 있습니다. 하지만 바로 전 프레임의 클러스터와의 비교로는 그 특성을 구분할 수 없습니다. 적어도 3 프레임 이상에서의 매칭이 있어야 합니다. 현 프레임과 전전 프레임의 거리가 전 프레임과의 거리보다 더 멀어야 사람이라고 판단했습니다. 
